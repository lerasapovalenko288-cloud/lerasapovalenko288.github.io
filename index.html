<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Урок 5. Тестирование браузерных пушей</title>
	<script>
    (function (window, document, dataLayerName, containerID) {
        window[dataLayerName] = window[dataLayerName] || [];
        window[dataLayerName].push({ 'start': new Date().getTime(), event: 'actm-js' });
        var firstScript = document.getElementsByTagName('script')[0];
        var script = document.createElement('script');
        var dl = dataLayerName !== 'acDataLayer' ? '&l=' + dataLayerName : '';
        script.async = true;
        script.src = 'https://pxl.demo.altcraft.com/actm/js/actm.js?id=' + containerID + dl;
        script.type = 'module';
        if (firstScript && firstScript.parentNode) {
            firstScript.parentNode.insertBefore(script, firstScript);
        }
    }(window, document, 'acDataLayer', 'ATM-3ZHkx6DUZLEipQaiM'));
</script>
</head>
    <script src="https://pxl.demo.altcraft.com/ak_container.js?id=NDc1fDQ=" ></script>
<body>

       
<button id="init_sub">Подписаться на уведомления</button> // Кнопка подписки
<!-- START OF ALTCRAFT PIXEL CODE !-->
      <script type="text/javascript">
      !function(){var e={url:"https://pxl.demo.altcraft.com/pixel?k=4jtMs0znxJDkvriMQ8BsYkD5PnuCQXaubmjAHAFAb41axZT5IQLfp91HVEW46hhg&s=I2IaRvX%2BoZA%3D",goals:"посещение сайта",value:parseFloat("0"),timeout:parseInt("5000"),after_scroll:JSON.parse("false"),auto_load:JSON.parse("true")},o=function(o,t,n,a){var d=[].concat(o).map(function(e){return encodeURIComponent(e)}).join(","),c=encodeURIComponent(String(t||0)),i=encodeURIComponent(n.matching_mode||""),r=encodeURIComponent(n.db_id||0),u=encodeURIComponent(JSON.stringify(n.match||{})),l=encodeURIComponent(JSON.stringify(n.update||{}));setTimeout(function(){(new Image).src=[e.url,"goals="+d,"value="+c,"db_id="+r,"mmode="+i,"match="+u,"update="+l].join("&")},a)},t=!1,n=function(){t||(t=!0,e.after_scroll?document.addEventListener("scroll",function(){(window.pageYOffset||document.documentElement.scrollTop>0)&&o(e.goals,e.value,{},e.timeout)},{once: true}):e.auto_load&&o(e.goals,e.value,{},e.timeout))};"complete"===document.readyState||"interactive"===document.readyState?n():window.addEventListener("load",n);window.ak_pixel_push=function(e,t,n,a,d,c){var i=[];Array.isArray(e)?i=e:i[0]=e,o(i,t,{match:n,update:a,matching_mode:d,db_id:c},0)}}();
      </script>
      <!-- END OF ALTCRAFT PIXEL CODE !-->
// ..Основная часть кода..

<script>
	document.getElementById('init_sub').addEventListener('click', function() { // По клику на кнопку..
	try {
		const akPush = new AKPush();
		akPush.initSubscription() // ..показать форму подписки
		}
	catch (e) {
		console.log(e); // ..или записать ошибку в консоль браузера
		}
	});
</script>


    <p>Урок 5. Тестирование браузерных пушей</p>

</body>
</html>
